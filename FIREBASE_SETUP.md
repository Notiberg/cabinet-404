# Настройка Firebase для Кабинет 404

## Шаги настройки:

### 1. Создание проекта Firebase
1. Перейдите на https://console.firebase.google.com/
2. Нажмите "Создать проект" 
3. Введите название проекта: `cabinet-404`
4. Отключите Google Analytics (не нужен для этого проекта)
5. Нажмите "Создать проект"

### 2. Настройка Realtime Database
1. В консоли Firebase перейдите в раздел "Realtime Database"
2. Нажмите "Создать базу данных"
3. Выберите регион (рекомендуется ближайший к пользователям)
4. Выберите "Начать в тестовом режиме" (правила безопасности настроим позже)

### 3. Получение конфигурации
1. Перейдите в "Настройки проекта" (иконка шестеренки)
2. Прокрутите вниз до раздела "Ваши приложения"
3. Нажмите на иконку веб-приложения `</>`
4. Введите название приложения: `cabinet-404-web`
5. Скопируйте объект конфигурации

### 4. Обновление конфигурации в проекте
Откройте файл `src/firebase/config.ts` и замените значения в `firebaseConfig`:

```typescript
const firebaseConfig = {
  apiKey: "ваш-api-key",
  authDomain: "cabinet-404.firebaseapp.com",
  databaseURL: "https://cabinet-404-default-rtdb.firebaseio.com/",
  projectId: "cabinet-404",
  storageBucket: "cabinet-404.appspot.com", 
  messagingSenderId: "ваш-sender-id",
  appId: "ваш-app-id"
};
```

### 5. Настройка правил безопасности
В Realtime Database перейдите в раздел "Правила" и установите следующие правила:

```json
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```

**ВАЖНО:** Это упрощенные правила для разработки. В продакшене нужно настроить более строгие правила безопасности.

### 6. Структура данных
Firebase автоматически создаст следующую структуру:

```
cabinet-404/
├── tasks/
│   ├── task-id-1/
│   └── task-id-2/
├── metalTracking/
│   ├── metal-id-1/
│   └── metal-id-2/
├── workClosures/
│   ├── work-id-1/
│   └── work-id-2/
└── documentTracking/
    ├── doc-id-1/
    └── doc-id-2/
```

## Тестирование
После настройки:
1. Запустите приложение: `npm start`
2. Откройте приложение в нескольких вкладках/браузерах
3. Добавьте задачу в одной вкладке
4. Проверьте, что она появилась в других вкладках

## Возможные проблемы
- **CORS ошибки**: Убедитесь, что домен добавлен в авторизованные домены Firebase
- **Правила безопасности**: Если данные не загружаются, проверьте правила в Realtime Database
- **Неверная конфигурация**: Проверьте правильность всех ключей в config.ts
